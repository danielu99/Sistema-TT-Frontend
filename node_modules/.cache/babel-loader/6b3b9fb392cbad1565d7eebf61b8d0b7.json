{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{Link}from'react-router-dom';import'../button.css';var ProfesorEvaluacion=/*#__PURE__*/function(_React$Component){_inherits(ProfesorEvaluacion,_React$Component);var _super=_createSuper(ProfesorEvaluacion);function ProfesorEvaluacion(props){var _this;_classCallCheck(this,ProfesorEvaluacion);_this=_super.call(this,props);_this.renderProtocolos=function(_ref){var Nombre=_ref.Nombre,URL=_ref.URL;return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,Nombre),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:URL,target:\"_blank\"},URL)));};_this.state={profesor:_this.props.usuario,protocolo:localStorage.getItem(\"protocolo\"),info:[]};_this.aprobar=_this.aprobar.bind(_assertThisInitialized(_this));_this.rechazar=_this.rechazar.bind(_assertThisInitialized(_this));return _this;}_createClass(ProfesorEvaluacion,[{key:\"componentDidMount\",value:function componentDidMount(){this.getInfo();}},{key:\"getInfo\",value:function(){var _getInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:4000/InfoProtocolo\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({protocolo:this.state.protocolo})}).catch(function(err){return console.error(err);});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;this.setState({info:json.data});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function getInfo(){return _getInfo.apply(this,arguments);}return getInfo;}()},{key:\"aprobar\",value:function(){var _aprobar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var response,json;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:4000/ProtocoloEvaluado\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({protocolo:this.state.protocolo,calificacion:\"Aprobado\",profesor:this.state.profesor})}).catch(function(err){return console.error(err);});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:json=_context2.sent;if(json.data==1){alert(\"Protocolo calificado correctamente!\");}else{alert(\"Algo salió mal\");}case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function aprobar(_x){return _aprobar.apply(this,arguments);}return aprobar;}()},{key:\"rechazar\",value:function(){var _rechazar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var response,json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:4000/ProtocoloEvaluado\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({protocolo:this.state.protocolo,calificacion:\"Rechazado\",profesor:this.state.profesor})}).catch(function(err){return console.error(err);});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:json=_context3.sent;if(json.data==1){alert(\"Protocolo calificado correctamente!\");}else{alert(\"Algo salió mal\");}case 7:case\"end\":return _context3.stop();}}},_callee3,this);}));function rechazar(_x2){return _rechazar.apply(this,arguments);}return rechazar;}()},{key:\"render\",value:function render(){if(!localStorage.getItem(\"protocolo\")){window.location.href=\"/Profesor\";}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Informaci\\xF3n del Protocolo\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"tabla\",align:\"center\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"NombreTT\"),/*#__PURE__*/React.createElement(\"th\",null,\"URL a documento PDF\")),this.state.info.map(this.renderProtocolos))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"myButton\",onClick:this.aprobar},\"APROBAR\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"myButton\",onClick:this.rechazar},\"RECHAZAR\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}}}]);return ProfesorEvaluacion;}(React.Component);export default ProfesorEvaluacion;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/ProfesorEvaluacion.js"],"names":["React","Link","ProfesorEvaluacion","props","renderProtocolos","Nombre","URL","state","profesor","usuario","protocolo","localStorage","getItem","info","aprobar","bind","rechazar","getInfo","fetch","method","headers","body","JSON","stringify","catch","err","console","error","response","json","setState","data","event","calificacion","alert","window","location","href","map","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../button.css'\r\n\r\nclass ProfesorEvaluacion extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            profesor: this.props.usuario,\r\n            protocolo: localStorage.getItem(\"protocolo\"),\r\n            info: []\r\n        }\r\n        this.aprobar=this.aprobar.bind(this)\r\n        this.rechazar=this.rechazar.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    async getInfo() {\r\n        const response = await fetch(\"http://localhost:4000/InfoProtocolo\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                protocolo: this.state.protocolo,\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        this.setState({ info: json.data })\r\n\r\n    }\r\n\r\n    renderProtocolos = ({ Nombre, URL }) =>\r\n        <tr>\r\n            <td>\r\n                {Nombre}\r\n            </td>\r\n            <td>\r\n                <a href={URL} target=\"_blank\">{URL}</a>\r\n            </td>\r\n        </tr>\r\n\r\n    async aprobar(event) {\r\n        const response = await fetch(\"http://localhost:4000/ProtocoloEvaluado\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                protocolo: this.state.protocolo,\r\n                calificacion: \"Aprobado\",\r\n                profesor: this.state.profesor\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        if (json.data == 1) {\r\n            alert(\"Protocolo calificado correctamente!\")\r\n        }\r\n        else{\r\n            alert(\"Algo salió mal\")\r\n        }\r\n    }\r\n\r\n    async rechazar(event) {\r\n        const response = await fetch(\"http://localhost:4000/ProtocoloEvaluado\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                protocolo: this.state.protocolo,\r\n                calificacion: \"Rechazado\",\r\n                profesor: this.state.profesor\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        if (json.data == 1) {\r\n            alert(\"Protocolo calificado correctamente!\")\r\n        }\r\n        else{\r\n            alert(\"Algo salió mal\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!localStorage.getItem(\"protocolo\")) {\r\n            window.location.href = \"/Profesor\"\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    <h1>Información del Protocolo</h1>\r\n                    <br />\r\n                    <div className=\"container\">\r\n                        <div>\r\n                            <table className=\"tabla\" align=\"center\">\r\n                                <tr>\r\n                                    <th>NombreTT</th>\r\n                                    <th>URL a documento PDF</th>\r\n                                </tr>\r\n                                {this.state.info.map(this.renderProtocolos)}\r\n                            </table>\r\n                        </div><br />\r\n                        <button className=\"myButton\" onClick={this.aprobar}>APROBAR</button><br /><br />\r\n                        <button className=\"myButton\" onClick={this.rechazar}>RECHAZAR</button><br /><br />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default ProfesorEvaluacion"]},"metadata":{},"sourceType":"module"}