{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';var LoginAlumno=/*#__PURE__*/function(_React$Component){_inherits(LoginAlumno,_React$Component);function LoginAlumno(props){var _this;_classCallCheck(this,LoginAlumno);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginAlumno).call(this,props));_this.state={boleta:'',contraseña:''};_this.handleChange1=_this.handleChange1.bind(_assertThisInitialized(_this));_this.handleChange2=_this.handleChange2.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginAlumno,[{key:\"handleChange1\",value:function handleChange1(event){this.setState({boleta:event.target.value});}},{key:\"handleChange2\",value:function handleChange2(event){this.setState({contraseña:event.target.value});}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:4000/LoginAlumnos\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({boleta:this.state.boleta,contraseña:this.state.contraseña})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;if(json.data==1){localStorage.setItem(\"Sesion\",this.state.boleta);localStorage.setItem(\"Type\",\"Alumno\");window.location.href=\"/Alumno/Bienvenido\";}else{alert(\"La boleta o la contraseña son incorrectos. Intenta de nuevo.\");window.location.href=\"/Alumno\";}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,this,[[0,10]]);}));function login(){return _login.apply(this,arguments);}return login;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"container3\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6 mt-5 mx-auto\"},React.createElement(\"form\",null,React.createElement(\"h1\",{className:\"h3 mb-3 font-weight-normal\"},\"Inicia Sesion\"),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"correo\"},\"Boleta\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Ingresa tu boleta\",value:this.state.usuario,onChange:this.handleChange1})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"contrase\\xF1a\"},\"Contrase\\xF1a\"),React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"contrase\\xF1a\",placeholder:\"Contrase\\xF1a\",value:this.state.contraseña,onChange:this.handleChange2}))),React.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-primary btn-block\",onClick:this.login},\"Inicia Sesion\")))));}}]);return LoginAlumno;}(React.Component);export default LoginAlumno;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/LoginAlumno.js"],"names":["React","Component","LoginAlumno","props","state","boleta","contraseña","handleChange1","bind","handleChange2","login","event","setState","target","value","fetch","method","headers","body","JSON","stringify","response","json","data","localStorage","setItem","window","location","href","alert","console","log","usuario"],"mappings":"2/CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,W,iFACF,qBAAYC,KAAZ,CAAmB,6CACf,6EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,MAAM,CAAE,EADC,CAETC,UAAU,CAAE,EAFH,CAAb,CAIA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CACA,MAAKE,KAAL,CAAa,MAAKA,KAAL,CAAWF,IAAX,+BAAb,CARe,aASlB,C,4EAEaG,K,CAAO,CACjB,KAAKC,QAAL,CAAc,CAAEP,MAAM,CAAEM,KAAK,CAACE,MAAN,CAAaC,KAAvB,CAAd,EACH,C,oDAEaH,K,CAAO,CACjB,KAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAA3B,CAAd,EACH,C,8RAI4BC,CAAAA,KAAK,CAAC,oCAAD,CAAuC,CAC7DC,MAAM,CAAE,MADqD,CAE7DC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFoD,CAM7DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBf,MAAM,CAAE,KAAKD,KAAL,CAAWC,MADF,CAEjBC,UAAU,CAAE,KAAKF,KAAL,CAAWE,UAFN,CAAf,CANuD,CAAvC,C,QAAtBe,Q,qCAYeA,CAAAA,QAAQ,CAACC,IAAT,E,QAAbA,I,eACN,GAAIA,IAAI,CAACC,IAAL,EAAa,CAAjB,CAAoB,CAChBC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,KAAKrB,KAAL,CAAWC,MAA1C,EACAmB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6B,QAA7B,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,oBAArB,CACH,CAJD,IAKK,CACDC,KAAK,CAAC,8DAAD,CAAL,CACAH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACH,C,iFAGDE,OAAO,CAACC,GAAR,c,qLAIC,CACL,MACI,gCACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,uBAAf,EACI,gCACI,0BAAI,SAAS,CAAC,4BAAd,kBADJ,CAEI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,QAAf,WADJ,CAEI,6BACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,cAFd,CAGI,WAAW,CAAC,mBAHhB,CAII,KAAK,CAAE,KAAK3B,KAAL,CAAW4B,OAJtB,CAKI,QAAQ,CAAE,KAAKzB,aALnB,EAFJ,CAFJ,CAYI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,eAAf,kBADJ,CAEI,6BACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,cAFd,CAGI,IAAI,CAAC,eAHT,CAII,WAAW,CAAC,eAJhB,CAKI,KAAK,CAAE,KAAKH,KAAL,CAAWE,UALtB,CAMI,QAAQ,CAAE,KAAKG,aANnB,EAFJ,CAZJ,CADJ,CAyBI,8BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,kCAFd,CAGI,OAAO,CAAE,KAAKC,KAHlB,kBAzBJ,CADJ,CADJ,CADJ,CADJ,CAyCH,C,yBA5FqBV,KAAK,CAACC,S,EA+FhC,cAAeC,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react'\r\n\r\nclass LoginAlumno extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            boleta: '',\r\n            contraseña: '',\r\n        }\r\n        this.handleChange1 = this.handleChange1.bind(this)\r\n        this.handleChange2 = this.handleChange2.bind(this)\r\n        this.login = this.login.bind(this)\r\n    }\r\n\r\n    handleChange1(event) {\r\n        this.setState({ boleta: event.target.value })\r\n    }\r\n\r\n    handleChange2(event) {\r\n        this.setState({ contraseña: event.target.value })\r\n    }\r\n\r\n    async login() {\r\n        try {\r\n            let response = await fetch(\"http://localhost:4000/LoginAlumnos\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    boleta: this.state.boleta,\r\n                    contraseña: this.state.contraseña\r\n                })\r\n            })\r\n\r\n            const json = await response.json();\r\n            if (json.data == 1) {\r\n                localStorage.setItem(\"Sesion\", this.state.boleta)\r\n                localStorage.setItem(\"Type\", \"Alumno\")\r\n                window.location.href=\"/Alumno/Bienvenido\"\r\n            }\r\n            else {\r\n                alert(\"La boleta o la contraseña son incorrectos. Intenta de nuevo.\")\r\n                window.location.href = \"/Alumno\"\r\n            }\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container3\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 mt-5 mx-auto\">\r\n                            <form>\r\n                                <h1 className=\"h3 mb-3 font-weight-normal\">Inicia Sesion</h1>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"correo\">Boleta</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        placeholder=\"Ingresa tu boleta\"\r\n                                        value={this.state.usuario}\r\n                                        onChange={this.handleChange1}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"contraseña\">Contraseña</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        name=\"contraseña\"\r\n                                        placeholder=\"Contraseña\"\r\n                                        value={this.state.contraseña}\r\n                                        onChange={this.handleChange2}\r\n                                    />\r\n                                </div>\r\n                            </form>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"btn btn-lg btn-primary btn-block\"\r\n                                onClick={this.login}\r\n                            >\r\n                                Inicia Sesion\r\n              </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginAlumno\r\n"]},"metadata":{},"sourceType":"module"}