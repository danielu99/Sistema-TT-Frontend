{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\src\\\\components\\\\MenuAlumno.js\";\nimport React from \"react\";\nimport '../MenuAlumno.css';\nimport Registro from './RegistrarProtocolo';\nimport Estado from './EstadoProtocolo';\nimport Actualiza from './ActualizaProtocolo';\nimport Unirse from './UnirseProtocolo';\nimport Info from './infoprotocolo';\nimport NavBar from './NavBarAlumno2';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass MenuAlumno extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usuario: localStorage.getItem(\"Sesion\"),\n      nombre: '',\n      protocolo: ''\n    };\n  }\n\n  componentDidMount() {\n    this.nombre();\n    this.protocolo();\n  }\n\n  cleanSession() {\n    localStorage.removeItem(\"Sesion\");\n    localStorage.removeItem(\"Type\");\n    localStorage.removeItem(\"protocolo\");\n  }\n\n  async nombre() {\n    const response = await fetch(\"http://192.168.0.18:4000/NombreAlumno\", {\n      method: \"post\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        boleta: this.state.usuario\n      })\n    }).catch(err => console.error(err));\n    const json = await response.json();\n    this.setState({\n      nombre: json.data[0].nombre\n    });\n  }\n\n  async protocolo() {\n    const response = await fetch(\"http://192.168.0.18:4000/AlumnoProtocolo\", {\n      method: \"post\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        boleta: this.state.usuario\n      })\n    }).catch(err => console.error(err));\n    const json = await response.json();\n\n    if (json.data.length > 0) {\n      this.setState({\n        protocolo: json.data[0].numeroTT\n      });\n    } else {\n      this.setState({\n        protocolo: 'null'\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"MenuAlumno\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"header\", {\n      className: \"MenuAlumno-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Sistema de Registro de Protocolos \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bienvenida\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Bienvenido \", this.state.nombre)), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Alumno/Bienvenido/registrar\",\n      component: () => /*#__PURE__*/React.createElement(Registro, {\n        usuario: this.state.usuario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 83\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Alumno/Bienvenido/\",\n      component: () => /*#__PURE__*/React.createElement(Estado, {\n        usuario: this.state.usuario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 74\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/Alumno/Bienvenido/Actualiza\",\n      component: () => /*#__PURE__*/React.createElement(Actualiza, {\n        usuario: this.state.usuario,\n        protocolo: this.state.protocolo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 77\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Alumno/Bienvenido/unirse\",\n      component: () => /*#__PURE__*/React.createElement(Unirse, {\n        usuario: this.state.usuario,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 80\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/Alumno/Bienvenido/info\",\n      component: () => /*#__PURE__*/React.createElement(Unirse, {\n        usuario: this.state.usuario,\n        protocolo: this.state.protocolo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 78\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/sistematt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"myButton\",\n      onClick: this.cleanSession,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 39\n      }\n    }, \"Log Out\")));\n  }\n\n}\n\nexport default MenuAlumno;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/MenuAlumno.js"],"names":["React","Registro","Estado","Actualiza","Unirse","Info","NavBar","BrowserRouter","Router","Switch","Route","Link","MenuAlumno","Component","constructor","props","state","usuario","localStorage","getItem","nombre","protocolo","componentDidMount","cleanSession","removeItem","response","fetch","method","headers","body","JSON","stringify","boleta","catch","err","console","error","json","setState","data","length","numeroTT","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport '../MenuAlumno.css'\r\nimport Registro from './RegistrarProtocolo'\r\nimport Estado from './EstadoProtocolo'\r\nimport Actualiza from './ActualizaProtocolo'\r\nimport Unirse from './UnirseProtocolo'\r\nimport Info from './infoprotocolo'\r\nimport NavBar from './NavBarAlumno2'\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\n\r\nclass MenuAlumno extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usuario: localStorage.getItem(\"Sesion\"),\r\n            nombre: '',\r\n            protocolo: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.nombre()\r\n        this.protocolo()\r\n    }\r\n\r\n    cleanSession() {\r\n        localStorage.removeItem(\"Sesion\")\r\n        localStorage.removeItem(\"Type\")\r\n        localStorage.removeItem(\"protocolo\")\r\n    }\r\n\r\n    async nombre() {\r\n        const response = await fetch(\"http://192.168.0.18:4000/NombreAlumno\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                boleta: this.state.usuario,\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        this.setState({ nombre: json.data[0].nombre })\r\n    }\r\n\r\n    async protocolo() {\r\n        const response = await fetch(\"http://192.168.0.18:4000/AlumnoProtocolo\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                boleta: this.state.usuario,\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        if (json.data.length > 0) {\r\n            this.setState({ protocolo: json.data[0].numeroTT })\r\n        }\r\n        else {\r\n            this.setState({ protocolo: 'null' })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"MenuAlumno\">\r\n                <NavBar />\r\n                <header className=\"MenuAlumno-header\">\r\n                    <h1>Sistema de Registro de Protocolos </h1>\r\n                </header>\r\n                <div className=\"bienvenida\">\r\n                    <h1>Bienvenido {this.state.nombre}</h1>\r\n                </div>\r\n                <Route exact path=\"/Alumno/Bienvenido/registrar\" component={() => <Registro usuario={this.state.usuario} />} />\r\n                <Route exact path=\"/Alumno/Bienvenido/\" component={() => <Estado usuario={this.state.usuario} />} />\r\n                <Route path=\"/Alumno/Bienvenido/Actualiza\" component={() => <Actualiza usuario={this.state.usuario} protocolo={this.state.protocolo} />} />\r\n                <Route exact path=\"/Alumno/Bienvenido/unirse\" component={() => <Unirse usuario={this.state.usuario} />} />\r\n                <Route exact path=\"/Alumno/Bienvenido/info\" component={() => <Unirse usuario={this.state.usuario} protocolo={this.state.protocolo} />} />\r\n                <Link to=\"/sistematt\"><button className=\"myButton\" onClick={this.cleanSession}>Log Out</button></Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MenuAlumno;"]},"metadata":{},"sourceType":"module"}