{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';import{BrowserRouter,Route,useRouteMatch,Switch}from'react-router-dom';import MenuProfesor from'./MenuProfesor';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={usuario:'',contraseña:''};_this.handleChange1=_this.handleChange1.bind(_assertThisInitialized(_this));_this.handleChange2=_this.handleChange2.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange1\",value:function handleChange1(event){this.setState({usuario:event.target.value});}},{key:\"handleChange2\",value:function handleChange2(event){this.setState({contraseña:event.target.value});}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:4000/LoginProfes\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({usuario:this.state.usuario,contraseña:this.state.contraseña})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;if(json.data==1){localStorage.setItem(\"Sesion\",this.state.usuario);localStorage.setItem(\"Type\",\"Profesor\");window.location.href=\"Profesor/Bienvenido/Asignados\";}else{alert(\"El usuario o la contraseña son incorrectos. Intenta de nuevo.\");window.location.href=\"/Profesor\";}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,this,[[0,10]]);}));function login(){return _login.apply(this,arguments);}return login;}()},{key:\"render\",value:function render(){if(localStorage.getItem(\"Sesion\")!=null){window.location.href=\"/Profesor/Bienvenido\";}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"maincontainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 mt-5 mx-auto\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"h3 mb-3 font-weight-normal\"},\"Inicia Sesion\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"correo\"},\"Usuario\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Ingresa tu usuario\",value:this.state.usuario,onChange:this.handleChange1})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"contrase\\xF1a\"},\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"contrase\\xF1a\",placeholder:\"Contrase\\xF1a\",value:this.state.contraseña,onChange:this.handleChange2}))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-primary btn-block\",onClick:this.login},\"Inicia Sesion\")))));}}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/LoginProfesor.js"],"names":["React","Component","ReactDOM","BrowserRouter","Route","useRouteMatch","Switch","MenuProfesor","Login","props","state","usuario","contraseña","handleChange1","bind","handleChange2","login","event","setState","target","value","fetch","method","headers","body","JSON","stringify","response","json","data","localStorage","setItem","window","location","href","alert","console","log","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter, Route, useRouteMatch, Switch } from 'react-router-dom'\r\nimport MenuProfesor from './MenuProfesor'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      usuario: '',\r\n      contraseña: ''\r\n    }\r\n    this.handleChange1 = this.handleChange1.bind(this)\r\n    this.handleChange2 = this.handleChange2.bind(this)\r\n    this.login = this.login.bind(this)\r\n  }\r\n\r\n  handleChange1(event) {\r\n    this.setState({ usuario: event.target.value })\r\n  }\r\n\r\n  handleChange2(event) {\r\n    this.setState({ contraseña: event.target.value })\r\n  }\r\n\r\n\r\n\r\n  async login() {\r\n    try {\r\n      let response = await fetch(\"http://localhost:4000/LoginProfes\", {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Accept\": \"application/json\",\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          usuario: this.state.usuario,\r\n          contraseña: this.state.contraseña\r\n        })\r\n      })\r\n\r\n      const json = await response.json();\r\n      if (json.data == 1) {\r\n        localStorage.setItem(\"Sesion\", this.state.usuario);\r\n        localStorage.setItem(\"Type\", \"Profesor\")\r\n        window.location.href = \"Profesor/Bienvenido/Asignados\"\r\n      }\r\n      else {\r\n        alert(\"El usuario o la contraseña son incorrectos. Intenta de nuevo.\")\r\n        window.location.href = \"/Profesor\"\r\n      }\r\n\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (localStorage.getItem(\"Sesion\") != null) {\r\n      window.location.href = \"/Profesor/Bienvenido\"\r\n\r\n    }\r\n    else {\r\n      return (\r\n        <div>\r\n\r\n          <div className=\"maincontainer\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 mt-5 mx-auto\">\r\n                <form>\r\n                  <h1 className=\"h3 mb-3 font-weight-normal\">Inicia Sesion</h1>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"correo\">Usuario</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Ingresa tu usuario\"\r\n                      value={this.state.usuario}\r\n                      onChange={this.handleChange1}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"contraseña\">Contraseña</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"contraseña\"\r\n                      placeholder=\"Contraseña\"\r\n                      value={this.state.contraseña}\r\n                      onChange={this.handleChange2}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-lg btn-primary btn-block\"\r\n                  onClick={this.login}\r\n                >\r\n                  Inicia Sesion\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}