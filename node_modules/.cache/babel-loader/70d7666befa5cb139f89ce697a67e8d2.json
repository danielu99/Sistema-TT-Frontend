{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import'../button.css';import*as d3 from'd3';import{v4 as uuidv4}from'uuid';var RegistrarProtocolo=/*#__PURE__*/function(_React$Component){_inherits(RegistrarProtocolo,_React$Component);var _super=_createSuper(RegistrarProtocolo);function RegistrarProtocolo(props){var _this;_classCallCheck(this,RegistrarProtocolo);_this=_super.call(this,props);_this.state={boleta:_this.props.usuario,nombrett:'',numeroTT:uuidv4(),cont:1,palabrasClave:[]};_this.añadePalabra=_this.añadePalabra.bind(_assertThisInitialized(_this));_this.handleChange1=_this.handleChange1.bind(_assertThisInitialized(_this));_this.Registra=_this.Registra.bind(_assertThisInitialized(_this));return _this;}_createClass(RegistrarProtocolo,[{key:\"a\\xF1adePalabra\",value:function aAdePalabra(){this.setState({cont:this.state.cont+1});d3.select(\"div.palabras\").append(\"input\").attr(\"type\",\"text\").attr(\"placeHolder\",\"            Palabra clave \"+(this.state.cont+1));}},{key:\"handleChange1\",value:function handleChange1(event){this.setState({nombrett:event.target.value});}},{key:\"Registra\",value:function(){var _Registra=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:4000/Protocolo\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({numeroTT:this.state.numeroTT,nombreTT:this.state.nombrett,boleta:this.state.boleta})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;if(json.data==1){alert(\"Protocolo registrado exitosamente!\");window.location.href=\"/Alumno/Bienvenido\";}else{alert(\"ERROR: Ya tienes un protocolo asignado!...\");window.location.href=\"/Alumno/Bienvenido/registrar\";}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,this,[[0,10]]);}));function Registra(){return _Registra.apply(this,arguments);}return Registra;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Registrar Protocolo\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Nombre de Trabajo Terminal\"),/*#__PURE__*/React.createElement(\"input\",{type:\"nombreTT\",placeholder:\"               Nombre TT\",value:this.state.nombrett,onChange:this.handleChange1}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"Palabras Clave\"),/*#__PURE__*/React.createElement(\"button\",{className:\"myButton\",onClick:this.añadePalabra},\"A\\xF1adir Palabra Clave\"),/*#__PURE__*/React.createElement(\"div\",{className:\"palabras\"},/*#__PURE__*/React.createElement(\"input\",{type:\"palabrasClave\",placeholder:\"            Palabra clave 1\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"Link a PDF\"),/*#__PURE__*/React.createElement(\"input\",{type:\"linkTT\",placeholder:\"Ejemplo: http://drive.nombreTT.com\\\"\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"myButton\",onClick:this.Registra},\"Registra Protocolo!\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null));}}]);return RegistrarProtocolo;}(React.Component);export default RegistrarProtocolo;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/RegistrarProtocolo.js"],"names":["React","d3","v4","uuidv4","RegistrarProtocolo","props","state","boleta","usuario","nombrett","numeroTT","cont","palabrasClave","añadePalabra","bind","handleChange1","Registra","setState","select","append","attr","event","target","value","fetch","method","headers","body","JSON","stringify","nombreTT","response","json","data","alert","window","location","href","console","log","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport '../button.css'\r\nimport * as d3 from 'd3'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nclass RegistrarProtocolo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            boleta: this.props.usuario,\r\n            nombrett: '',\r\n            numeroTT:uuidv4(),\r\n\r\n            cont: 1,\r\n            palabrasClave: []\r\n        }\r\n        this.añadePalabra = this.añadePalabra.bind(this);\r\n        this.handleChange1 = this.handleChange1.bind(this);\r\n        this.Registra = this.Registra.bind(this);\r\n    }\r\n\r\n\r\n    añadePalabra() {\r\n        this.setState({ cont: this.state.cont + 1 })\r\n        d3.select(\"div.palabras\")\r\n            .append(\"input\")\r\n            .attr(\"type\", \"text\")\r\n            .attr(\"placeHolder\", \"            Palabra clave \" + ((this.state.cont) + 1));\r\n    }\r\n\r\n    handleChange1(event) {\r\n        this.setState({ nombrett: event.target.value })\r\n    }\r\n\r\n    async Registra() {\r\n        try {\r\n            let response = await fetch(\"http://localhost:4000/Protocolo\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    numeroTT: this.state.numeroTT,\r\n                    nombreTT: this.state.nombrett,\r\n                    boleta:this.state.boleta\r\n                })\r\n            })\r\n            const json = await response.json();\r\n            if (json.data == 1) {\r\n                alert(\"Protocolo registrado exitosamente!\")\r\n                window.location.href=\"/Alumno/Bienvenido\"\r\n            }\r\n            else {\r\n                alert(\"ERROR: Ya tienes un protocolo asignado!...\")\r\n                window.location.href=\"/Alumno/Bienvenido/registrar\"\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Registrar Protocolo</h1>\r\n                <h2>Nombre de Trabajo Terminal</h2>\r\n                <input type='nombreTT'\r\n                    placeholder='               Nombre TT'\r\n                    value={this.state.nombrett}\r\n                    onChange={this.handleChange1} />\r\n                <br></br>\r\n                <h2>Palabras Clave</h2>\r\n                <button className=\"myButton\" onClick={this.añadePalabra}>Añadir Palabra Clave</button>\r\n                <div className=\"palabras\">\r\n                    <input type='palabrasClave'\r\n                        placeholder='            Palabra clave 1' />\r\n                    {/* Aquí van las palabras clave */}\r\n                </div>\r\n                <br></br>\r\n                <h2>Link a PDF</h2>\r\n                <input type='linkTT'\r\n                    placeholder='Ejemplo: http://drive.nombreTT.com\"' />\r\n                <button className=\"myButton\" onClick={this.Registra}>Registra Protocolo!</button>\r\n                <br/><br/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegistrarProtocolo"]},"metadata":{},"sourceType":"module"}