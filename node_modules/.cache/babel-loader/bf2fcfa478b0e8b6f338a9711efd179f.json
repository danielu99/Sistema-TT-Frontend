{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Daniel\\\\Documents\\\\Escolar\\\\Programas\\\\Distributed Database\\\\Proyecto Parcial1\\\\ReactJS\\\\tt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import*as d3 from'd3';import{Link,Switch,BrowserRouter as Router,Route}from'react-router-dom';import Evaluacion from'./ProfesorEvaluacion';import'../profesor.css';var ProtocolosAsignados=/*#__PURE__*/function(_React$Component){_inherits(ProtocolosAsignados,_React$Component);function ProtocolosAsignados(props){var _this;_classCallCheck(this,ProtocolosAsignados);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProtocolosAsignados).call(this,props));_this.renderProtocolos=function(_ref){var Numero=_ref.Numero,Nombre=_ref.Nombre;return React.createElement(\"tr\",null,React.createElement(\"td\",null,React.createElement(Link,{to:\"/Profesor/Bienvenido/Asignados/Evaluacion\"},React.createElement(\"div\",{id:Numero}))),React.createElement(\"td\",null,Nombre));};_this.state={protocolos:[],usuario:_this.props.usuario,seleccion:''};return _this;}_createClass(ProtocolosAsignados,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProtocolos();}},{key:\"getProtocolos\",value:function(){var _getProtocolos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json,that,a;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:4000/ProtocolosProfe\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-type\":\"application/json\"},body:JSON.stringify({usuario:this.state.usuario})}).catch(function(err){return console.error(err);});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;this.setState({protocolos:json.data});that=this;a=d3.selectAll(\"td\").selectAll(\"div\").each(function(){var _this2=this;d3.select(this).text(this.getAttribute(\"id\")).on(\"click\",function(d){// that.setState({ seleccion: this.getAttribute(\"id\") })\nlocalStorage.setItem(\"protocolo\",_this2.getAttribute(\"id\"));});});case 9:case\"end\":return _context.stop();}}},_callee,this);}));function getProtocolos(){return _getProtocolos.apply(this,arguments);}return getProtocolos;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.Entrega());}},{key:\"Entrega\",value:function Entrega(){if(this.state.protocolos.length>0){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Protocolos por evaluar\"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",null,React.createElement(\"table\",{className:\"tabla\",align:\"center\"},React.createElement(\"tr\",null,React.createElement(\"th\",null,\"NumeroTT\"),React.createElement(\"th\",null,\"NombreTT\")),this.state.protocolos.map(this.renderProtocolos)))));}else{return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Por el momento no tienes protocolos pendientes :)\"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"container\"}));}}}]);return ProtocolosAsignados;}(React.Component);export default ProtocolosAsignados;","map":{"version":3,"sources":["C:/Users/Daniel/Documents/Escolar/Programas/Distributed Database/Proyecto Parcial1/ReactJS/tt/src/components/ProtocolosAsignados.js"],"names":["React","d3","Link","Switch","BrowserRouter","Router","Route","Evaluacion","ProtocolosAsignados","props","renderProtocolos","Numero","Nombre","state","protocolos","usuario","seleccion","getProtocolos","fetch","method","headers","body","JSON","stringify","catch","err","console","error","response","json","setState","data","that","a","selectAll","each","select","text","getAttribute","on","d","localStorage","setItem","Entrega","length","map","Component"],"mappings":"+yCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,aAAa,GAAIC,CAAAA,MAAxC,CAAgDC,KAAhD,KAA6D,kBAA7D,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAO,iBAAP,C,GAEMC,CAAAA,mB,yFAEF,6BAAYC,KAAZ,CAAmB,qDACf,qFAAMA,KAAN,GADe,MAwCnBC,gBAxCmB,CAwCA,kBAAGC,CAAAA,MAAH,MAAGA,MAAH,CAAWC,MAAX,MAAWA,MAAX,OACf,+BACI,8BACI,oBAAC,IAAD,EAAM,EAAE,CAAC,2CAAT,EAAqD,2BAAK,EAAE,CAAED,MAAT,EAArD,CADJ,CADJ,CAII,8BACKC,MADL,CAJJ,CADe,EAxCA,CAEf,MAAKC,KAAL,CAAa,CACTC,UAAU,CAAE,EADH,CAETC,OAAO,CAAE,MAAKN,KAAL,CAAWM,OAFX,CAGTC,SAAS,CAAE,EAHF,CAAb,CAFe,aAOlB,C,6FAEmB,CAChB,KAAKC,aAAL,GACH,C,qSAI0BC,CAAAA,KAAK,CAAC,uCAAD,CAA0C,CAClEC,MAAM,CAAE,MAD0D,CAElEC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFyD,CAMlEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBR,OAAO,CAAE,KAAKF,KAAL,CAAWE,OADH,CAAf,CAN4D,CAA1C,CAAL,CAUlBS,KAVkB,CAUZ,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAVS,C,QAAjBG,Q,qCAWaA,CAAAA,QAAQ,CAACC,IAAT,E,QAAbA,I,eACN,KAAKC,QAAL,CAAc,CAAEhB,UAAU,CAAEe,IAAI,CAACE,IAAnB,CAAd,EAEIC,I,CAAO,I,CACPC,C,CAAIhC,EAAE,CAACiC,SAAH,CAAa,IAAb,EAAmBA,SAAnB,CAA6B,KAA7B,EAAoCC,IAApC,CAAyC,UAAY,iBACzDlC,EAAE,CAACmC,MAAH,CAAU,IAAV,EACKC,IADL,CACU,KAAKC,YAAL,CAAkB,IAAlB,CADV,EAEKC,EAFL,CAEQ,OAFR,CAEiB,SAAAC,CAAC,CAAI,CACd;AACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkC,MAAI,CAACJ,YAAL,CAAkB,IAAlB,CAAlC,EACH,CALL,EAMH,CAPO,C,oMAoBH,CACL,MACI,gCACK,KAAKK,OAAL,EADL,CADJ,CAKH,C,yCAES,CACN,GAAI,KAAK9B,KAAL,CAAWC,UAAX,CAAsB8B,MAAtB,CAA+B,CAAnC,CAAsC,CAClC,MACI,gCACI,uDADJ,CACmC,8BADnC,CAEI,2BAAK,SAAS,CAAC,WAAf,EACI,+BACI,6BAAO,SAAS,CAAC,OAAjB,CAAyB,KAAK,CAAC,QAA/B,EACI,8BACI,yCADJ,CAEI,yCAFJ,CADJ,CAKK,KAAK/B,KAAL,CAAWC,UAAX,CAAsB+B,GAAtB,CAA0B,KAAKnC,gBAA/B,CALL,CADJ,CADJ,CAFJ,CADJ,CAgBH,CAjBD,IAkBK,CACD,MACI,gCACI,kFADJ,CAC8D,8BAD9D,CAEI,2BAAK,SAAS,CAAC,WAAf,EAFJ,CADJ,CAQH,CACJ,C,iCAzF6BV,KAAK,CAAC8C,S,EA4FxC,cAAetC,CAAAA,mBAAf","sourcesContent":["import React from 'react'\r\nimport * as d3 from 'd3'\r\nimport { Link, Switch, BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport Evaluacion from './ProfesorEvaluacion'\r\nimport '../profesor.css'\r\n\r\nclass ProtocolosAsignados extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            protocolos: [],\r\n            usuario: this.props.usuario,\r\n            seleccion: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProtocolos();\r\n    }\r\n\r\n\r\n    async getProtocolos() {\r\n        const response = await fetch(\"http://localhost:4000/ProtocolosProfe\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                usuario: this.state.usuario,\r\n            })\r\n        })\r\n            .catch(err => console.error(err))\r\n        const json = await response.json();\r\n        this.setState({ protocolos: json.data })\r\n\r\n        var that = this\r\n        var a = d3.selectAll(\"td\").selectAll(\"div\").each(function () {\r\n            d3.select(this)\r\n                .text(this.getAttribute(\"id\"))\r\n                .on(\"click\", d => {\r\n                    // that.setState({ seleccion: this.getAttribute(\"id\") })\r\n                    localStorage.setItem(\"protocolo\", this.getAttribute(\"id\"))\r\n                })\r\n        })\r\n    }\r\n\r\n    renderProtocolos = ({ Numero, Nombre }) =>\r\n        <tr>\r\n            <td>\r\n                <Link to=\"/Profesor/Bienvenido/Asignados/Evaluacion\"><div id={Numero}></div></Link>\r\n            </td>\r\n            <td>\r\n                {Nombre}\r\n            </td>\r\n        </tr>\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.Entrega()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    Entrega() {\r\n        if (this.state.protocolos.length > 0) {\r\n            return (\r\n                <div>\r\n                    <h1>Protocolos por evaluar</h1><br />\r\n                    <div className=\"container\">\r\n                        <div>\r\n                            <table className=\"tabla\" align=\"center\">\r\n                                <tr>\r\n                                    <th>NumeroTT</th>\r\n                                    <th>NombreTT</th>\r\n                                </tr>\r\n                                {this.state.protocolos.map(this.renderProtocolos)}\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    <h1>Por el momento no tienes protocolos pendientes :)</h1><br />\r\n                    <div className=\"container\">\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default ProtocolosAsignados"]},"metadata":{},"sourceType":"module"}